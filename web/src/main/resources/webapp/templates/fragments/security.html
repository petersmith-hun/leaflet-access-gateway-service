<!DOCTYPE html>
<html lang="hu" xmlns:th="http://www.thymeleaf.org">
    <body>

    <!-- ReCaptcha widget -->
    <div th:fragment="recaptcha-widget">
        <label for="recaptcha" th:text="#{form.recaptcha.label.confirm}">placeholder:confirm</label>
        <div id="recaptchaWidgetWrapper">
            <div id="recaptcha" class="g-recaptcha row justify-content-center" th:data-sitekey="${recaptchaSiteKey}" data-callback="populateTokenField"></div>
        </div>
        <input type="hidden" id="recaptchaToken" name="recaptchaToken" required="required" />
        <span class="validationError" th:if="${#fields.hasErrors('recaptchaToken')}" th:text="#{form.recaptcha.validation.error.token}">placeholder:val_err_token</span>

        <script src="https://www.google.com/recaptcha/api.js" async defer></script>
        <script type="text/javascript">
            function populateTokenField(token) {
                document.getElementById('recaptchaToken').value = token;
            }
        </script>
    </div>

    </body>
</html>
